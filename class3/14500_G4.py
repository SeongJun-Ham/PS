import sys
input = sys.stdin.readline

if __name__ == "__main__":
    N, M = map(int, input().split())
    arr = [list(map(int, input().split())) for _ in range(N)]
    form = [[[0, 0], [1, 0], [2, 0], [3, 0]],
            [[0, 0], [0, 1], [0, 2], [0, 3]],
            [[0, 0], [1, 0], [0, 1], [1, 1]],
            [[0, 0], [1, 0], [2, 0], [2, 1]],
            [[0, 0], [1, 0], [0, 1], [0, 2]],
            [[0, 0], [0, 1], [1, 1], [2, 1]],
            [[1, 0], [1, 1], [1, 2], [0, 2]],
            [[2, 0], [2, 1], [1, 1], [0, 1]],
            [[0, 0], [1, 0], [1, 1], [1, 2]],
            [[0, 0], [1, 0], [2, 0], [0, 1]],
            [[0, 0], [0, 1], [0, 2], [1, 2]],
            [[0, 0], [1, 0], [1, 1], [2, 1]],
            [[1, 0], [1, 1], [0, 1], [0, 2]],
            [[1, 0], [2, 0], [1, 1], [0, 1]],
            [[0, 0], [0, 1], [1, 1], [1, 2]],
            [[1, 0], [1, 1], [0, 1], [1, 2]],
            [[0, 0], [1, 0], [2, 0], [1, 1]],
            [[0, 0], [0, 1], [1, 1], [0, 2]],
            [[1, 0], [0, 1], [1, 1], [2, 1]],]

    ans = 0
    for n in range(N):
        for m in range(M):
            for a, b, c, d in form:
                value = 0
                try:
                    value += arr[n+a[0]][m+a[1]]
                    value += arr[n+b[0]][m+b[1]]
                    value += arr[n+c[0]][m+c[1]]
                    value += arr[n+d[0]][m+d[1]]
                    ans = max(ans, value)
                except:
                    pass
    print(ans)
